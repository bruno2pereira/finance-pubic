var b=Object.defineProperty;var f=(o,t,n)=>t in o?b(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n;var l=(o,t,n)=>f(o,typeof t!="symbol"?t+"":t,n);import{o as d}from"./index-BUje8jDk.js";const e=class e{static initNotify(t){e.$q=t}static initI18n(t){e.$t=t}static saveFile(){const t=d().db,n=JSON.stringify(t),a=btoa(encodeURIComponent(n).replace(/%([0-9A-F]{2})/g,($,u)=>String.fromCharCode(parseInt(u,16)))),i=new Blob([a],{type:"application/json"}),c=URL.createObjectURL(i),r=document.createElement("a");r.href=c,r.download="db.onn",r.click()}static loadFile(t){if(t?.name&&t.name.slice(-4)!==".onn"){this.$q.notify({message:this.$t("one.onlyOnnFilesAllowed"),color:"warning",position:"top"});return}else{const n=new FileReader;n.onload=a=>{const i=atob(a.target?.result),c=JSON.parse(i);d().setDb(c),this.$q.notify({message:this.$t("one.accountsLoadedSuccessfully"),color:"positive",position:"top"})},n.readAsText(t)}}static clearAccount(){e.$q.dialog({title:e.$t("one.clearAccount"),message:e.$t("one.confirmClearAllData"),persistent:!0,ok:{label:e.$t("one.confirm"),color:"secondary",dense:!0,outline:!1,square:!0},cancel:{label:e.$t("one.cancel"),color:"secondary",dense:!0,outline:!0,square:!0}}).onOk(()=>{d().setDb([])})}};l(e,"$t"),l(e,"$q");let s=e;const p=({app:o})=>{s.initI18n(o.config.globalProperties.$t),s.initNotify(o.config.globalProperties.$q),o.config.globalProperties.$account=s};export{p as default};
